{"title":"Django","uid":"9319bb79084ec16cc2b86c7f0a8d2c6a","slug":"Django","date":"2021-05-05T06:39:18.000Z","updated":"2021-05-05T07:48:50.956Z","comments":true,"path":"api/articles/Django.json","keywords":null,"cover":"/images/banners/VCG41N1158547769.jpg","content":"<h2 id=\"Django程序开机自动启动\"><a href=\"#Django程序开机自动启动\" class=\"headerlink\" title=\"Django程序开机自动启动\"></a>Django程序开机自动启动</h2><details class=\"custom-details\">\n<summary>通过shell脚本，设置开机自动启动Django的uwsgi服务（测试环境Cento8）</summary>\n<p><h3 id=\"1、切换到-etc-init-d-，目录下创建一个自己的脚本\"><a href=\"#1、切换到-etc-init-d-，目录下创建一个自己的脚本\" class=\"headerlink\" title=\"1、切换到/etc/init.d/，目录下创建一个自己的脚本\"></a>1、切换到/etc/init.d/，目录下创建一个自己的脚本</h3><h3 id=\"2、制作sh脚本-vim-start-uwsgi\"><a href=\"#2、制作sh脚本-vim-start-uwsgi\" class=\"headerlink\" title=\"2、制作sh脚本 vim start_uwsgi\"></a>2、制作sh脚本 vim start_uwsgi</h3><p><strong>注意，注释也要加进去</strong></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/bin/sh</span>\n<span class=\"token comment\">#add for chkconfig</span>\n<span class=\"token comment\">#chkconfig: 2345 70 30</span>\n<span class=\"token comment\">#description: the description of the shell   #关于脚本的简短描述</span>\n<span class=\"token comment\">#processname: andyStart      #第一个进程名，后边设置自启动的时候会用到</span>\n<span class=\"token comment\">#下面要启动服务的命令</span>\n<span class=\"token builtin class-name\">source</span> /418pro/env/djangoVenv/bin/activate <span class=\"token operator\">&amp;&amp;</span> uwsgi --ini /418pro/uwsgi-configs/django.ini   <span class=\"token comment\">#进入虚拟环境 &amp;&amp; 启动uwsgi 配置文件的具体位置</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>说明：</strong></p>\n<p>（1）2345是指脚本的运行级别，即在2345这4种模式下都可以运行，234都是文本界面，5就是图形界面X</p>\n<p>（1）70是指脚本将来的启动顺序号，如果别的程序的启动顺序号比70小（比如44、45），则脚本需要等这些程序都启动以后才启动。</p>\n<p>（1）30是指系统关闭时，脚本的停止顺序号。</p>\n<p><strong>linux 下shell脚本执行多个命令的方法</strong></p>\n<p>(1)每个命令之间用;隔开</p>\n<p>说明：各命令的执行给果，不会影响其它命令的执行。换句话说，各个命令都会执行，但不保证每个命令都执行成功。</p>\n<p>(2)每个命令之间用&amp;&amp;隔开</p>\n<p>说明：若前面的命令执行成功，才会去执行后面的命令。这样可以保证所有的命令执行完毕后，执行过程都是成功的。</p>\n<p><strong>(3)每个命令之间用||隔开</strong></p>\n<p>说明：||是或的意思，只有前面的命令执行失败后才去执行下一条命令，直到执行成功一条命令为止。</p>\n<h3 id=\"3、给脚本加上可执行权限：\"><a href=\"#3、给脚本加上可执行权限：\" class=\"headerlink\" title=\"3、给脚本加上可执行权限：\"></a>3、给脚本加上可执行权限：</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> a+x start_uwsgi<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n\n<h3 id=\"4、利用chkconfig命令将脚本设置为自启动：\"><a href=\"#4、利用chkconfig命令将脚本设置为自启动：\" class=\"headerlink\" title=\"4、利用chkconfig命令将脚本设置为自启动：\"></a>4、利用chkconfig命令将脚本设置为自启动：</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chkconfig</span> --add start_uwsgi<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</p>\n</details>\n","text":"Django程序开机自动启动 通过shell脚本，设置开机自动启动Django的uwsgi服务（测试环境Cento8） 1、切换到/etc/init.d/，目录下创建一个自己的脚本2、制作sh脚本 vim start_uwsgi注意，注释也要加进去 #!/bin/sh #add ...","link":"","photos":[],"count_time":{"symbolsCount":901,"symbolsTime":"1 mins."},"categories":[{"name":"Django","slug":"Django","count":1,"path":"api/categories/Django.json"}],"tags":[{"name":"Python","slug":"Python","count":8,"path":"api/tags/Python.json"},{"name":"Django","slug":"Django","count":1,"path":"api/tags/Django.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Django%E7%A8%8B%E5%BA%8F%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">Django程序开机自动启动</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1%E3%80%81%E5%88%87%E6%8D%A2%E5%88%B0-etc-init-d-%EF%BC%8C%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\">1、切换到&#x2F;etc&#x2F;init.d&#x2F;，目录下创建一个自己的脚本</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2%E3%80%81%E5%88%B6%E4%BD%9Csh%E8%84%9A%E6%9C%AC-vim-start-uwsgi\"><span class=\"toc-text\">2、制作sh脚本 vim start_uwsgi</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3%E3%80%81%E7%BB%99%E8%84%9A%E6%9C%AC%E5%8A%A0%E4%B8%8A%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%9D%83%E9%99%90%EF%BC%9A\"><span class=\"toc-text\">3、给脚本加上可执行权限：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4%E3%80%81%E5%88%A9%E7%94%A8chkconfig%E5%91%BD%E4%BB%A4%E5%B0%86%E8%84%9A%E6%9C%AC%E8%AE%BE%E7%BD%AE%E4%B8%BA%E8%87%AA%E5%90%AF%E5%8A%A8%EF%BC%9A\"><span class=\"toc-text\">4、利用chkconfig命令将脚本设置为自启动：</span></a></li></ol></li></ol>","author":{"name":"阿朱","slug":"blog-author","avatar":"/images/head.jpg","link":"/","description":"所行皆坦途","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/382729258"},"github":{"icon":"/svg/github.svg","link":"https://github.com/sxjtt"}}}},"mapped":true,"prev_post":{"title":"237删除链表中的节点 leetCode","uid":"be827bd3744cf66f970afc1974c2f8ba","slug":"237删除链表中的节点","date":"2021-05-05T12:03:58.000Z","updated":"2021-05-06T08:08:32.208Z","comments":true,"path":"api/articles/237删除链表中的节点.json","keywords":null,"cover":"/images/banners/VCG41N1126025444.jpg","text":"题目：请编写一个函数，使其可以删除某个链表中给定的（非末尾）节点。传入函数的唯一参数为 要被删除的节点 。这个题一开始，我也有点懞，被这个题目弄傻了。后面看了下题解，豁然开朗。 主要思路 将下一个节点的值赋值给当前节点 然后把下一个节点删除即可（删除方法：将当前节点next指向下...","link":"","photos":[],"count_time":{"symbolsCount":398,"symbolsTime":"1 mins."},"categories":[{"name":"算法","slug":"算法","count":7,"path":"api/categories/算法.json"}],"tags":[{"name":"算法","slug":"算法","count":7,"path":"api/tags/算法.json"},{"name":"Python","slug":"Python","count":8,"path":"api/tags/Python.json"},{"name":"链表","slug":"链表","count":1,"path":"api/tags/链表.json"}],"author":{"name":"阿朱","slug":"blog-author","avatar":"/images/head.jpg","link":"/","description":"所行皆坦途","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/382729258"},"github":{"icon":"/svg/github.svg","link":"https://github.com/sxjtt"}}}}},"next_post":{"title":"nginx","uid":"5657dbaafc65d44bb7226a49ee6df3c8","slug":"nginx","date":"2021-05-05T04:39:04.000Z","updated":"2021-05-05T07:47:34.169Z","comments":true,"path":"api/articles/nginx.json","keywords":null,"cover":"/images/banners/VCG41183545763.jpg","text":"设置开机自动启动 nginx开机自动启动(Centos8测试环境) 1、init.d下创建文件nginxvim /etc/init.d/nginx nginx官方文档 2、将官方配置，添加到编辑的文件中：nginx=”/usr/local/nginx/sbin/nginx” //...","link":"","photos":[],"count_time":{"symbolsCount":580,"symbolsTime":"1 mins."},"categories":[{"name":"Nginx","slug":"Nginx","count":1,"path":"api/categories/Nginx.json"}],"tags":[{"name":"Nginx","slug":"Nginx","count":1,"path":"api/tags/Nginx.json"}],"author":{"name":"阿朱","slug":"blog-author","avatar":"/images/head.jpg","link":"/","description":"所行皆坦途","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/382729258"},"github":{"icon":"/svg/github.svg","link":"https://github.com/sxjtt"}}}}}}