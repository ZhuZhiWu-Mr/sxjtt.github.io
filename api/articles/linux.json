{"title":"linux操作宝典","uid":"83638110e00c80fbf85ca941956c7a6d","slug":"linux","date":"2021-04-03T06:33:15.000Z","updated":"2021-05-04T13:23:29.296Z","comments":true,"path":"api/articles/linux.json","keywords":null,"cover":"/images/banners/VCG211284641681.jpg","content":"<h2 id=\"按内容搜索所有文件\"><a href=\"#按内容搜索所有文件\" class=\"headerlink\" title=\"按内容搜索所有文件\"></a>按内容搜索所有文件</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">grep -rn &quot;hello,world!&quot; *<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre><code>* 表示当前目录所有文件，也可以是某个文件名\n-r 是递归查找\n-n 是显示行号\n-R 查找所有文件包含子目录\n-i 忽略大小写\n-l 只列出匹配的文件名\n-L 列出不匹配的文件名\n-w 只匹配整个单词，而不是字符串的一部分（匹配 hello，不匹配helloo）\n</code></pre>\n<h2 id=\"排查内存占用\"><a href=\"#排查内存占用\" class=\"headerlink\" title=\"排查内存占用\"></a>排查内存占用</h2><h3 id=\"1-排查磁盘满的节点，执行以下命令：\"><a href=\"#1-排查磁盘满的节点，执行以下命令：\" class=\"headerlink\" title=\"1.排查磁盘满的节点，执行以下命令：\"></a>1.排查磁盘满的节点，执行以下命令：</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">df -h<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-进入df-h查出的异常分区，执行以下命令，逐层往下找出耗磁盘的目录。\"><a href=\"#2-进入df-h查出的异常分区，执行以下命令，逐层往下找出耗磁盘的目录。\" class=\"headerlink\" title=\"2.进入df -h查出的异常分区，执行以下命令，逐层往下找出耗磁盘的目录。\"></a>2.进入df -h查出的异常分区，执行以下命令，逐层往下找出耗磁盘的目录。</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">du -sh * | grep G<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"3-进入消耗磁盘的目录，找出消耗磁盘空间的异常文件，执行命令：\"><a href=\"#3-进入消耗磁盘的目录，找出消耗磁盘空间的异常文件，执行命令：\" class=\"headerlink\" title=\"3.进入消耗磁盘的目录，找出消耗磁盘空间的异常文件，执行命令：\"></a>3.进入消耗磁盘的目录，找出消耗磁盘空间的异常文件，执行命令：</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">du -sh * | grep G 或者 du -sh * | grep T<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"4-删除查找出来的异常文件命令：\"><a href=\"#4-删除查找出来的异常文件命令：\" class=\"headerlink\" title=\"4.删除查找出来的异常文件命令：\"></a>4.删除查找出来的异常文件命令：</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">rm -rf 文件名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"5-如果上面找不出异常文件消耗磁盘空间，有可能是已删除文件但未释放内存，占用了很大的空间，执行命令：\"><a href=\"#5-如果上面找不出异常文件消耗磁盘空间，有可能是已删除文件但未释放内存，占用了很大的空间，执行命令：\" class=\"headerlink\" title=\"5.如果上面找不出异常文件消耗磁盘空间，有可能是已删除文件但未释放内存，占用了很大的空间，执行命令：\"></a>5.如果上面找不出异常文件消耗磁盘空间，有可能是已删除文件但未释放内存，占用了很大的空间，执行命令：</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">lsof -n | grep delete<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"6-找出已删除的文件但未释放内存的进程，然后释放进程。\"><a href=\"#6-找出已删除的文件但未释放内存的进程，然后释放进程。\" class=\"headerlink\" title=\"6.找出已删除的文件但未释放内存的进程，然后释放进程。\"></a>6.找出已删除的文件但未释放内存的进程，然后释放进程。</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">kill -9 进程号<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","text":"按内容搜索所有文件grep -rn &quot;hello,world!&quot; * * 表示当前目录所有文件，也可以是某个文件名 -r 是递归查找 -n 是显示行号 -R 查找所有文件包含子目录 -i 忽略大小写 -l 只列出匹配的文件名 -L 列出不匹配的文件名 -w 只...","link":"","photos":[],"count_time":{"symbolsCount":477,"symbolsTime":"1 mins."},"categories":[{"name":"linux","slug":"linux","count":1,"path":"api/categories/linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":1,"path":"api/tags/Linux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8C%89%E5%86%85%E5%AE%B9%E6%90%9C%E7%B4%A2%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">按内容搜索所有文件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8E%92%E6%9F%A5%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8\"><span class=\"toc-text\">排查内存占用</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E6%8E%92%E6%9F%A5%E7%A3%81%E7%9B%98%E6%BB%A1%E7%9A%84%E8%8A%82%E7%82%B9%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%EF%BC%9A\"><span class=\"toc-text\">1.排查磁盘满的节点，执行以下命令：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E8%BF%9B%E5%85%A5df-h%E6%9F%A5%E5%87%BA%E7%9A%84%E5%BC%82%E5%B8%B8%E5%88%86%E5%8C%BA%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%EF%BC%8C%E9%80%90%E5%B1%82%E5%BE%80%E4%B8%8B%E6%89%BE%E5%87%BA%E8%80%97%E7%A3%81%E7%9B%98%E7%9A%84%E7%9B%AE%E5%BD%95%E3%80%82\"><span class=\"toc-text\">2.进入df -h查出的异常分区，执行以下命令，逐层往下找出耗磁盘的目录。</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E8%BF%9B%E5%85%A5%E6%B6%88%E8%80%97%E7%A3%81%E7%9B%98%E7%9A%84%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%89%BE%E5%87%BA%E6%B6%88%E8%80%97%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E7%9A%84%E5%BC%82%E5%B8%B8%E6%96%87%E4%BB%B6%EF%BC%8C%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%EF%BC%9A\"><span class=\"toc-text\">3.进入消耗磁盘的目录，找出消耗磁盘空间的异常文件，执行命令：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E5%88%A0%E9%99%A4%E6%9F%A5%E6%89%BE%E5%87%BA%E6%9D%A5%E7%9A%84%E5%BC%82%E5%B8%B8%E6%96%87%E4%BB%B6%E5%91%BD%E4%BB%A4%EF%BC%9A\"><span class=\"toc-text\">4.删除查找出来的异常文件命令：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-%E5%A6%82%E6%9E%9C%E4%B8%8A%E9%9D%A2%E6%89%BE%E4%B8%8D%E5%87%BA%E5%BC%82%E5%B8%B8%E6%96%87%E4%BB%B6%E6%B6%88%E8%80%97%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%EF%BC%8C%E6%9C%89%E5%8F%AF%E8%83%BD%E6%98%AF%E5%B7%B2%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E4%BD%86%E6%9C%AA%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98%EF%BC%8C%E5%8D%A0%E7%94%A8%E4%BA%86%E5%BE%88%E5%A4%A7%E7%9A%84%E7%A9%BA%E9%97%B4%EF%BC%8C%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%EF%BC%9A\"><span class=\"toc-text\">5.如果上面找不出异常文件消耗磁盘空间，有可能是已删除文件但未释放内存，占用了很大的空间，执行命令：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-%E6%89%BE%E5%87%BA%E5%B7%B2%E5%88%A0%E9%99%A4%E7%9A%84%E6%96%87%E4%BB%B6%E4%BD%86%E6%9C%AA%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98%E7%9A%84%E8%BF%9B%E7%A8%8B%EF%BC%8C%E7%84%B6%E5%90%8E%E9%87%8A%E6%94%BE%E8%BF%9B%E7%A8%8B%E3%80%82\"><span class=\"toc-text\">6.找出已删除的文件但未释放内存的进程，然后释放进程。</span></a></li></ol></li></ol>","author":{"name":"阿朱","slug":"blog-author","avatar":"/images/head.jpg","link":"/","description":"所行皆坦途","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/382729258"},"github":{"icon":"/svg/github.svg","link":"https://github.com/sxjtt"}}}},"mapped":true,"prev_post":{"title":"砖墙问题 leecode 554","uid":"91879f453d10785d92208d969ecf7341","slug":"砖墙问题","date":"2021-05-03T06:22:29.000Z","updated":"2021-05-04T13:23:17.706Z","comments":true,"path":"api/articles/砖墙问题.json","keywords":null,"cover":"/images/banners/VCG41N1070447322.jpg","text":"题目：你的面前有一堵矩形的、由 n 行砖块组成的砖墙。这些砖块高度相同（也就是一个单位高）但是宽度不同。每一行砖块的宽度之和应该相等。 你现在要画一条 自顶向下 的、穿过 最少 砖块的垂线。如果你画的线只是从砖块的边缘经过，就不算穿过这块砖。你不能沿着墙的两个垂直边缘之一画线，这...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"算法","slug":"算法","count":3,"path":"api/categories/算法.json"}],"tags":[{"name":"算法","slug":"算法","count":3,"path":"api/tags/算法.json"},{"name":"Python","slug":"Python","count":3,"path":"api/tags/Python.json"},{"name":"Hash","slug":"Hash","count":2,"path":"api/tags/Hash.json"}],"author":{"name":"阿朱","slug":"blog-author","avatar":"/images/head.jpg","link":"/","description":"所行皆坦途","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/382729258"},"github":{"icon":"/svg/github.svg","link":"https://github.com/sxjtt"}}}},"feature":true},"next_post":{}}